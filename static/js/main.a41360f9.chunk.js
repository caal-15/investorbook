(this.webpackJsonpwebclient=this.webpackJsonpwebclient||[]).push([[0],{100:function(e,a,t){e.exports={investorAvatar:"styles_investorAvatar__2GZdz",investorName:"styles_investorName__3sL-F",investorLink:"styles_investorLink__1_fm0"}},108:function(e,a,t){e.exports={modalInput:"styles_modalInput__WTFER"}},136:function(e,a,t){e.exports={investorAvatar:"styles_investorAvatar__3N_Y1"}},137:function(e,a,t){e.exports={modal:"styles_modal__3ayrX"}},157:function(e,a,t){e.exports=t(180)},163:function(e,a,t){},164:function(e,a,t){},180:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(17),m=t.n(l),c=(t(162),t(163),t(138)),i=t(231),o=t(228),s=t(60),u=t(19),E=(t(164),t(229)),v=t(212),d=t(232),p=t(213),g=t(214),f=t(210),b=t(99),h=t.n(b),y=function(e){var a=e.showNav,t=e.children,n=Object(u.h)().pathname,l=Object(u.g)().push,m=n.startsWith("/investors")?"INVESTORS":"COMPANIES";return r.a.createElement(E.a,{p:8},r.a.createElement(f.a,null,r.a.createElement(v.a,{component:"h1",align:"left",gutterBottom:!0},r.a.createElement(v.a,{className:h.a.headTitle,variant:"h5",component:"span",color:"primary"},"INVESTOR"),r.a.createElement(v.a,{className:h.a.headTitle,variant:"h5",component:"span"},"BOOK")),r.a.createElement(E.a,{m:4}),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{value:m,onChange:function(e,a){l("INVESTORS"===a?"/investors":"/companies")}},r.a.createElement(p.a,{value:"INVESTORS",label:"Investors"}),r.a.createElement(p.a,{value:"COMPANIES",label:"Companies"})),r.a.createElement(g.a,{className:h.a.tabDivider})):null,r.a.createElement(E.a,{m:2}),t))},O=t(44),I=t(223),_=t(224),N=t(215),j=t(216),S=t(225),w=t(217),C=t(222),A=t(21),k=t(55);function x(){var e=Object(k.a)(["\n  query GetInvestors($limit: Int!, $offset: Int!) {\n    investor(limit: $limit, offset: $offset) {\n      id\n      name\n      photo_thumbnail\n      investments {\n        company {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return x=function(){return e},e}var T=Object(A.gql)(x()),F=t(235),$=t(100),M=t.n($),P=function(e){var a=e.investor,t=a.investments.map((function(e){return e.company.name})).join(", ");return r.a.createElement(N.a,null,r.a.createElement(j.a,null,r.a.createElement(s.b,{className:M.a.investorLink,to:"/investors/".concat(a.id)},r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center",wrap:"nowrap"},r.a.createElement(w.a,{item:!0},r.a.createElement(F.a,{className:M.a.investorAvatar,alt:a.name,src:a.photo_thumbnail})),r.a.createElement(w.a,{item:!0},r.a.createElement("strong",{className:M.a.investorName},a.name)),r.a.createElement(w.a,{item:!0},r.a.createElement(E.a,{ml:4}))))),r.a.createElement(j.a,null,t))},q=t(230),R=t(237),B=t(221),z=t(96),V=t.n(z),D=t(135),G=t.n(D),L=function(e){var a=e.pageSize,t=e.setPageSize,n=e.page,l=e.setPage,m=n*a+1,c=m+a-1;return r.a.createElement(w.a,{container:!0,wrap:"nowrap",alignItems:"center"},r.a.createElement(w.a,{item:!0},"Rows per page:"),r.a.createElement(w.a,{item:!0},r.a.createElement(E.a,{mx:.5})),r.a.createElement(w.a,{item:!0},r.a.createElement(q.a,{value:a,onChange:function(e){return t(e.target.value)}},r.a.createElement(R.a,{value:5},"5"),r.a.createElement(R.a,{value:6},"6"),r.a.createElement(R.a,{value:7},"7"),r.a.createElement(R.a,{value:8},"8"),r.a.createElement(R.a,{value:9},"9"),r.a.createElement(R.a,{value:10},"10"))),r.a.createElement(w.a,{item:!0},r.a.createElement(E.a,{mx:2})),r.a.createElement(w.a,{item:!0},m," - ",c),r.a.createElement(w.a,{item:!0}),r.a.createElement(w.a,{item:!0},r.a.createElement(E.a,{mx:2})),r.a.createElement(w.a,{item:!0},r.a.createElement(B.a,{disabled:0===n,onClick:function(){return l(n-1)}},r.a.createElement(V.a,null))),r.a.createElement(w.a,{item:!0},r.a.createElement(B.a,{onClick:function(){return l(n+1)}},r.a.createElement(G.a,null))))},W=function(){var e,a=Object(n.useState)(5),t=Object(O.a)(a,2),l=t[0],m=t[1],c=Object(n.useState)(0),i=Object(O.a)(c,2),o=i[0],s=i[1],u=Object(A.useQuery)(T,{variables:{limit:l,offset:o*l}}),d=u.loading,p=u.error,g=u.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{align:"left",variant:"h3",component:"h2",gutterBottom:!0},"Investors"),d?r.a.createElement(C.a,null):null,d||p||!(null===g||void 0===g||null===(e=g.investor)||void 0===e?void 0:e.length)?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(_.a,null,r.a.createElement(N.a,null,r.a.createElement(j.a,null,"NAME"),r.a.createElement(j.a,null,"INVESTMENTS"))),r.a.createElement(S.a,null,g.investor.map((function(e){return r.a.createElement(P,{key:e.id,investor:e})})))),r.a.createElement(E.a,{m:1}),r.a.createElement(w.a,{container:!0,justify:"flex-end"},r.a.createElement(w.a,{item:!0},r.a.createElement(L,{pageSize:l,setPageSize:m,page:o,setPage:s})))),p?r.a.createElement(v.a,{color:"error",variant:"h5"},"Ooops, Something went wrong, try reloading."):null)},Q=t(227),J=t(97),Y=t.n(J),Z=t(98),K=t.n(Z),U=t(136),X=t.n(U);function H(){var e=Object(k.a)(["\n  query GetInvestorDetail($id: Int!) {\n    investor: investor_by_pk(id: $id) {\n      id\n      name\n      photo_large\n      investments {\n        id\n        amount\n        company {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return H=function(){return e},e}var ee=Object(A.gql)(H()),ae=t(233),te=t(220),ne=t(137),re=t.n(ne),le=function(e){var a=e.isOpen,t=e.onClose,n=e.children;return r.a.createElement(ae.a,{className:re.a.modal,open:a,onClose:t},r.a.createElement(te.a,null,r.a.createElement(E.a,{p:4},n)))},me=t(239),ce=t(226),ie=t(238);function oe(){var e=Object(k.a)(["\n  mutation AddInvestment($investment: investment_insert_input!) {\n    investment: insert_investment_one(object: $investment) {\n      id\n      amount\n      company {\n        id\n        name\n      }\n    }\n  }\n"]);return oe=function(){return e},e}function se(){var e=Object(k.a)(["\n  query GetAllCompanies {\n    company(limit: 100) {\n      id\n      name\n    }\n  }\n"]);return se=function(){return e},e}var ue=Object(A.gql)(se()),Ee=Object(A.gql)(oe()),ve=t(108),de=t.n(ve),pe=function(e){var a=e.isOpen,t=e.onClose,l=e.investor,m=Object(A.useQuery)(ue),c=m.error,i=m.data,o=m.loading,s=Object(A.useMutation)(Ee),u=Object(O.a)(s,2),d=u[0],p=u[1].loading,g=Object(A.useApolloClient)(),f=Object(n.useState)(""),b=Object(O.a)(f,2),h=b[0],y=b[1],I=Object(n.useState)(""),_=Object(O.a)(I,2),N=_[0],j=_[1],S=function(){j(""),y(""),g.resetStore(),t()};return r.a.createElement(le,{isOpen:a,onClose:t},o?r.a.createElement(C.a,null):null,o||c||!i.company?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{align:"left",variant:"h6",component:"h4"},"Add Investment"),r.a.createElement(v.a,{align:"left",variant:"body1"},"Please enter the details of the investment."),r.a.createElement(E.a,{m:2}),r.a.createElement(ce.a,{className:de.a.modalInput},r.a.createElement(ie.a,{id:"company-select"},"Select Company"),r.a.createElement(q.a,{value:h,onChange:function(e){return y(e.target.value)},labelId:"company-select"},i.company.map((function(e){return r.a.createElement(R.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement(E.a,{m:2}),r.a.createElement(me.a,{value:N,onChange:function(e){var a=Number(e.target.value);(!isNaN(a)&&a>0||""===e.target.value)&&j(e.target.value)},className:de.a.modalInput,label:"Investment Amount"}),r.a.createElement(E.a,{m:2}),r.a.createElement(w.a,{container:!0,spacing:2,justify:"flex-end"},r.a.createElement(w.a,{item:!0},r.a.createElement(Q.a,{disabled:p,onClick:t,color:"primary"},"Cancel")),r.a.createElement(w.a,{item:!0},r.a.createElement(Q.a,{disabled:p||!N||!h,variant:"contained",color:"primary",onClick:function(){var e={amount:N,company_id:h,investor_id:Number(l.id)};d({variables:{investment:e},update:S})}},p?"Sending...":"Add Investment")))),c?r.a.createElement(v.a,{variant:"h4",color:"error"},"Oops, Something went wrong, try reloading."):null)},ge=function(e){var a=e.investor,t=e.investments,l=Object(n.useState)(!1),m=Object(O.a)(l,2),c=m[0],i=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(w.a,{item:!0},r.a.createElement(v.a,{align:"left",variant:"body1",component:"h3"},"Investments")),r.a.createElement(w.a,{item:!0},r.a.createElement(Q.a,{color:"primary",onClick:function(){return i(!0)}},"+ Add Investment"))),r.a.createElement(E.a,{m:2}),r.a.createElement(I.a,null,r.a.createElement(_.a,null,r.a.createElement(N.a,null,r.a.createElement(j.a,null,"NAME"),r.a.createElement(j.a,null,"AMOUNT"),r.a.createElement(j.a,{align:"right"},"ACTIONS"))),r.a.createElement(S.a,null,t.map((function(e){return r.a.createElement(N.a,{key:e.id},r.a.createElement(j.a,null,e.company.name),r.a.createElement(j.a,null,"$",Intl.NumberFormat().format(e.amount)),r.a.createElement(j.a,{align:"right"},r.a.createElement(B.a,null,r.a.createElement(Y.a,null)),r.a.createElement(B.a,null,r.a.createElement(K.a,null))))})))),r.a.createElement(pe,{investor:a,isOpen:c,onClose:function(){return i(!1)}}))},fe=function(){var e,a,t=Object(u.g)().push,n=Object(u.i)().id,l=Object(A.useQuery)(ee,{variables:{id:n}}),m=l.loading,c=l.error,i=l.data,o=null===i||void 0===i||null===(e=i.investor)||void 0===e||null===(a=e.investments)||void 0===a?void 0:a.reduce((function(e,a){return e+a.amount}),0);return r.a.createElement(w.a,{alignItems:"center",container:!0,spacing:2},r.a.createElement(w.a,{md:1,item:!0},r.a.createElement(B.a,{onClick:function(){return t("/investors")}},r.a.createElement(V.a,null))),m?r.a.createElement(w.a,{md:1,item:!0},r.a.createElement(C.a,null)):null,m||c||!(null===i||void 0===i?void 0:i.investor)?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{md:1,item:!0},r.a.createElement(F.a,{className:X.a.investorAvatar,src:i.investor.photo_large})),r.a.createElement(w.a,{md:10,item:!0},r.a.createElement(w.a,{container:!0,justify:"space-between"},r.a.createElement(w.a,{item:!0},r.a.createElement(v.a,{align:"left",variant:"h5",component:"h2",gutterBottom:!0},i.investor.name),r.a.createElement(v.a,{variant:"body1"},"Total Amount Invested: $",Intl.NumberFormat().format(o))),r.a.createElement(w.a,{item:!0},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0},r.a.createElement(Q.a,{startIcon:r.a.createElement(Y.a,null)},"Edit Name")),r.a.createElement(w.a,{item:!0},r.a.createElement(Q.a,{startIcon:r.a.createElement(K.a,null)},"Remove Investor")))))),r.a.createElement(w.a,{md:2,item:!0}),r.a.createElement(w.a,{item:!0,md:10},r.a.createElement(E.a,{m:4}),r.a.createElement(ge,{investor:i.investor,investments:i.investor.investments}))),c?r.a.createElement(v.a,{variant:"h3",color:"error"},"Oops! Something went wrong, try reloading."):null)},be=Object(c.a)({palette:{primary:{main:"#4970f8"},secondary:{main:"#000000"}}});var he=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.b,{injectFirst:!0},r.a.createElement(o.a,{theme:be},r.a.createElement(s.a,{basename:"/investorbook"},r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(u.a,{to:"/investors"})),r.a.createElement(u.b,{exact:!0,path:"/investors"},r.a.createElement(y,{showNav:!0},r.a.createElement(W,null))),r.a.createElement(u.b,{exact:!0,path:"/investors/:id"},r.a.createElement(y,null,r.a.createElement(fe,null))),r.a.createElement(u.b,{exact:!0,path:"/companies"},r.a.createElement(y,{showNav:!0})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=new A.ApolloClient({uri:"https://electric-kangaroo-87.hasura.app/v1/graphql",cache:new A.InMemoryCache});m.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A.ApolloProvider,{client:ye},r.a.createElement(he,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,a,t){e.exports={headTitle:"styles_headTitle__2ZPYu",tabDivider:"styles_tabDivider__2PjMT"}}},[[157,1,2]]]);
//# sourceMappingURL=main.a41360f9.chunk.js.map