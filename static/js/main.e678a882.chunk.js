(this.webpackJsonpwebclient=this.webpackJsonpwebclient||[]).push([[0],{102:function(e,a,t){e.exports={headTitle:"styles_headTitle__2ZPYu",tabDivider:"styles_tabDivider__2PjMT"}},103:function(e,a,t){e.exports={investorAvatar:"styles_investorAvatar__2GZdz",investorName:"styles_investorName__3sL-F",investorLink:"styles_investorLink__1_fm0"}},112:function(e,a,t){e.exports={modalInput:"styles_modalInput__WTFER"}},139:function(e,a,t){e.exports={investorAvatar:"styles_investorAvatar__3N_Y1"}},140:function(e,a,t){e.exports={modal:"styles_modal__3ayrX"}},141:function(e,a,t){e.exports={companyLink:"styles_companyLink__25Brw"}},158:function(e,a,t){e.exports=t(181)},164:function(e,a,t){},165:function(e,a,t){},181:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(17),c=t.n(l),m=(t(163),t(164),t(142)),o=t(232),i=t(229),s=t(49),u=t(20),E=(t(165),t(230)),v=t(213),p=t(233),d=t(214),g=t(215),f=t(211),b=t(102),h=t.n(b),y=function(e){var a=e.showNav,t=e.children,n=Object(u.h)().pathname,l=Object(u.g)().push,c=n.startsWith("/investors")?"INVESTORS":"COMPANIES";return r.a.createElement(E.a,{p:8},r.a.createElement(f.a,null,r.a.createElement(v.a,{component:"h1",align:"left",gutterBottom:!0},r.a.createElement(v.a,{className:h.a.headTitle,variant:"h5",component:"span",color:"primary"},"INVESTOR"),r.a.createElement(v.a,{className:h.a.headTitle,variant:"h5",component:"span"},"BOOK")),r.a.createElement(E.a,{m:4}),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{value:c,onChange:function(e,a){l("INVESTORS"===a?"/investors":"/companies")}},r.a.createElement(d.a,{value:"INVESTORS",label:"Investors"}),r.a.createElement(d.a,{value:"COMPANIES",label:"Companies"})),r.a.createElement(g.a,{className:h.a.tabDivider})):null,r.a.createElement(E.a,{m:2}),t))},O=t(35),j=t(225),_=t(226),I=t(216),N=t(217),S=t(227),w=t(218),C=t(224),A=t(223),k=t(19),x=t(45);function T(){var e=Object(x.a)(["\n  query GetInvestors($limit: Int!, $offset: Int!) {\n    investor_aggregate {\n      aggregate {\n        count\n      }\n    }\n    investor(limit: $limit, offset: $offset) {\n      id\n      name\n      photo_thumbnail\n      investments {\n        company {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return T=function(){return e},e}var $=Object(k.gql)(T()),F=t(236),P=t(103),M=t.n(P),q=function(e){var a=e.investor,t=a.investments.map((function(e){return e.company.name})).join(", ");return r.a.createElement(I.a,null,r.a.createElement(N.a,null,r.a.createElement(s.b,{className:M.a.investorLink,to:"/investors/".concat(a.id)},r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center",wrap:"nowrap"},r.a.createElement(w.a,{item:!0},r.a.createElement(F.a,{className:M.a.investorAvatar,alt:a.name,src:a.photo_thumbnail})),r.a.createElement(w.a,{item:!0},r.a.createElement("strong",{className:M.a.investorName},a.name)),r.a.createElement(w.a,{item:!0},r.a.createElement(E.a,{ml:4}))))),r.a.createElement(N.a,null,t))},R=t(231),z=t(238),L=t(222),B=t(99),V=t.n(B),G=t(138),D=t.n(G),Q=function(e){var a=e.pageSize,t=e.setPageSize,n=e.page,l=e.setPage,c=e.total,m=n*a+1,o=m+a-1;return r.a.createElement(w.a,{container:!0,wrap:"nowrap",alignItems:"center"},r.a.createElement(w.a,{item:!0},"Rows per page:"),r.a.createElement(w.a,{item:!0},r.a.createElement(E.a,{mx:.5})),r.a.createElement(w.a,{item:!0},r.a.createElement(R.a,{value:a,onChange:function(e){return t(e.target.value)}},r.a.createElement(z.a,{value:5},"5"),r.a.createElement(z.a,{value:6},"6"),r.a.createElement(z.a,{value:7},"7"),r.a.createElement(z.a,{value:8},"8"),r.a.createElement(z.a,{value:9},"9"),r.a.createElement(z.a,{value:10},"10"))),r.a.createElement(w.a,{item:!0},r.a.createElement(E.a,{mx:2})),r.a.createElement(w.a,{item:!0},m," - ",o," of ",c),r.a.createElement(w.a,{item:!0}),r.a.createElement(w.a,{item:!0},r.a.createElement(E.a,{mx:2})),r.a.createElement(w.a,{item:!0},r.a.createElement(L.a,{disabled:0===n,onClick:function(){return l(n-1)}},r.a.createElement(V.a,null))),r.a.createElement(w.a,{item:!0},r.a.createElement(L.a,{disabled:o>=c,onClick:function(){return l(n+1)}},r.a.createElement(D.a,null))))},W=function(){var e,a=Object(n.useState)(5),t=Object(O.a)(a,2),l=t[0],c=t[1],m=Object(n.useState)(0),o=Object(O.a)(m,2),i=o[0],s=o[1],u=Object(k.useQuery)($,{variables:{limit:l,offset:i*l}}),p=u.loading,d=u.error,g=u.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(w.a,{item:!0},r.a.createElement(v.a,{align:"left",variant:"h3",component:"h2"},"Investors")),r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{color:"primary",variant:"outlined"},"Add Investor"))),p?r.a.createElement(C.a,null):null,p||d||!(null===g||void 0===g||null===(e=g.investor)||void 0===e?void 0:e.length)?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,r.a.createElement(_.a,null,r.a.createElement(I.a,null,r.a.createElement(N.a,null,"NAME"),r.a.createElement(N.a,null,"INVESTMENTS"))),r.a.createElement(S.a,null,g.investor.map((function(e){return r.a.createElement(q,{key:e.id,investor:e})})))),r.a.createElement(E.a,{m:1}),r.a.createElement(w.a,{container:!0,justify:"flex-end"},r.a.createElement(w.a,{item:!0},r.a.createElement(Q,{pageSize:l,setPageSize:c,page:i,setPage:s,total:g.investor_aggregate.aggregate.count})))),d?r.a.createElement(v.a,{color:"error",variant:"h5"},"Ooops, Something went wrong, try reloading."):null)},J=t(100),Y=t.n(J),Z=t(101),K=t.n(Z),U=t(139),X=t.n(U);function H(){var e=Object(x.a)(["\n  query GetInvestorDetail($id: Int!) {\n    investor: investor_by_pk(id: $id) {\n      id\n      name\n      photo_large\n      investments {\n        id\n        amount\n        company {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return H=function(){return e},e}var ee=Object(k.gql)(H()),ae=t(234),te=t(221),ne=t(140),re=t.n(ne),le=function(e){var a=e.isOpen,t=e.onClose,n=e.children;return r.a.createElement(ae.a,{className:re.a.modal,open:a,onClose:t},r.a.createElement(te.a,null,r.a.createElement(E.a,{p:4},n)))},ce=t(240),me=t(228),oe=t(239);function ie(){var e=Object(x.a)(["\n  mutation AddInvestment($investment: investment_insert_input!) {\n    investment: insert_investment_one(object: $investment) {\n      id\n      amount\n      company {\n        id\n        name\n      }\n    }\n  }\n"]);return ie=function(){return e},e}function se(){var e=Object(x.a)(["\n  query GetAllCompanies {\n    company(limit: 100) {\n      id\n      name\n    }\n  }\n"]);return se=function(){return e},e}var ue=Object(k.gql)(se()),Ee=Object(k.gql)(ie()),ve=t(112),pe=t.n(ve),de=function(e){var a=e.isOpen,t=e.onClose,l=e.investor,c=Object(k.useQuery)(ue),m=c.error,o=c.data,i=c.loading,s=Object(k.useMutation)(Ee),u=Object(O.a)(s,2),p=u[0],d=u[1],g=d.loading,f=d.error,b=Object(k.useApolloClient)(),h=Object(n.useState)(""),y=Object(O.a)(h,2),j=y[0],_=y[1],I=Object(n.useState)(""),N=Object(O.a)(I,2),S=N[0],x=N[1],T=function(){x(""),_(""),b.resetStore(),t()};return r.a.createElement(le,{isOpen:a,onClose:t},i?r.a.createElement(C.a,null):null,i||m||f||!o.company?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{align:"left",variant:"h6",component:"h4"},"Add Investment"),r.a.createElement(v.a,{align:"left",variant:"body1"},"Please enter the details of the investment."),r.a.createElement(E.a,{m:2}),r.a.createElement(me.a,{className:pe.a.modalInput},r.a.createElement(oe.a,{id:"company-select"},"Select Company"),r.a.createElement(R.a,{value:j,onChange:function(e){return _(e.target.value)},labelId:"company-select"},o.company.map((function(e){return r.a.createElement(z.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement(E.a,{m:2}),r.a.createElement(ce.a,{value:S,onChange:function(e){var a=Number(e.target.value);(!isNaN(a)&&a>0||""===e.target.value)&&x(e.target.value)},className:pe.a.modalInput,label:"Investment Amount"}),r.a.createElement(E.a,{m:2}),r.a.createElement(w.a,{container:!0,spacing:2,justify:"flex-end"},r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{disabled:g,onClick:t,color:"primary"},"Cancel")),r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{disabled:g||!S||!j,variant:"contained",color:"primary",onClick:function(){var e={amount:S,company_id:j,investor_id:Number(l.id)};p({variables:{investment:e},update:T}).catch(console.log)}},g?"Sending...":"Add Investment")))),m||f?r.a.createElement(v.a,{variant:"h4",color:"error"},"Oops, Something went wrong, try reloading."):null)},ge=function(e){var a=e.investor,t=e.investments,l=Object(n.useState)(!1),c=Object(O.a)(l,2),m=c[0],o=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(w.a,{item:!0},r.a.createElement(v.a,{align:"left",variant:"body1",component:"h3"},"Investments")),r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{color:"primary",onClick:function(){return o(!0)}},"+ Add Investment"))),r.a.createElement(E.a,{m:2}),r.a.createElement(j.a,null,r.a.createElement(_.a,null,r.a.createElement(I.a,null,r.a.createElement(N.a,null,"NAME"),r.a.createElement(N.a,null,"AMOUNT"),r.a.createElement(N.a,{align:"right"},"ACTIONS"))),r.a.createElement(S.a,null,t.map((function(e){return r.a.createElement(I.a,{key:e.id},r.a.createElement(N.a,null,e.company.name),r.a.createElement(N.a,null,"$",Intl.NumberFormat().format(e.amount)),r.a.createElement(N.a,{align:"right"},r.a.createElement(L.a,null,r.a.createElement(Y.a,null)),r.a.createElement(L.a,null,r.a.createElement(K.a,null))))})))),r.a.createElement(de,{investor:a,isOpen:m,onClose:function(){return o(!1)}}))},fe=function(){var e,a,t=Object(u.g)().push,n=Object(u.i)().id,l=Object(k.useQuery)(ee,{variables:{id:n}}),c=l.loading,m=l.error,o=l.data,i=null===o||void 0===o||null===(e=o.investor)||void 0===e||null===(a=e.investments)||void 0===a?void 0:a.reduce((function(e,a){return e+a.amount}),0);return r.a.createElement(w.a,{alignItems:"center",container:!0,spacing:2},r.a.createElement(w.a,{md:1,item:!0},r.a.createElement(L.a,{onClick:function(){return t("/investors")}},r.a.createElement(V.a,null))),c?r.a.createElement(w.a,{md:1,item:!0},r.a.createElement(C.a,null)):null,c||m||!(null===o||void 0===o?void 0:o.investor)?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{md:1,item:!0},r.a.createElement(F.a,{className:X.a.investorAvatar,src:o.investor.photo_large})),r.a.createElement(w.a,{md:10,item:!0},r.a.createElement(w.a,{container:!0,justify:"space-between"},r.a.createElement(w.a,{item:!0},r.a.createElement(v.a,{align:"left",variant:"h5",component:"h2",gutterBottom:!0},o.investor.name),r.a.createElement(v.a,{variant:"body1"},"Total Amount Invested: $",Intl.NumberFormat().format(i))),r.a.createElement(w.a,{item:!0},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{startIcon:r.a.createElement(Y.a,null)},"Edit Name")),r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{startIcon:r.a.createElement(K.a,null)},"Remove Investor")))))),r.a.createElement(w.a,{md:2,item:!0}),r.a.createElement(w.a,{item:!0,md:10},r.a.createElement(E.a,{m:4}),r.a.createElement(ge,{investor:o.investor,investments:o.investor.investments}))),m?r.a.createElement(v.a,{variant:"h3",color:"error"},"Oops! Something went wrong, try reloading."):null)};function be(){var e=Object(x.a)(["\n  query GetCompanies($limit: Int!, $offset: Int!) {\n    company_aggregate {\n      aggregate {\n        count\n      }\n    }\n    company(limit: $limit, offset: $offset) {\n      id\n      name\n      investments {\n        investor {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return be=function(){return e},e}var he=Object(k.gql)(be()),ye=t(141),Oe=t.n(ye),je=function(e){var a=e.company,t=a.investments.map((function(e){return e.investor.name})).join(", ");return r.a.createElement(I.a,null,r.a.createElement(N.a,null,r.a.createElement(s.b,{className:Oe.a.companyLink,to:"/companies/".concat(a.id)},r.a.createElement("strong",null,a.name))),r.a.createElement(N.a,null,t))},_e=function(){var e,a=Object(n.useState)(5),t=Object(O.a)(a,2),l=t[0],c=t[1],m=Object(n.useState)(0),o=Object(O.a)(m,2),i=o[0],s=o[1],u=Object(k.useQuery)(he,{variables:{limit:l,offset:l*i}}),p=u.loading,d=u.error,g=u.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(w.a,{item:!0},r.a.createElement(v.a,{align:"left",variant:"h3",component:"h2"},"Companies")),r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{color:"primary",variant:"outlined"},"Add Company"))),p?r.a.createElement(C.a,null):null,p||d||!(null===g||void 0===g||null===(e=g.company)||void 0===e?void 0:e.length)?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,r.a.createElement(_.a,null,r.a.createElement(I.a,null,r.a.createElement(N.a,null,"NAME"),r.a.createElement(N.a,null,"INVESTORS"))),r.a.createElement(S.a,null,g.company.map((function(e){return r.a.createElement(je,{company:e})})))),r.a.createElement(E.a,{m:1}),r.a.createElement(w.a,{container:!0,justify:"flex-end"},r.a.createElement(w.a,{item:!0},r.a.createElement(Q,{pageSize:l,setPageSize:c,page:i,setPage:s,total:g.company_aggregate.aggregate.count})))),d?r.a.createElement(v.a,{color:"error",variant:"h5"},"Ooops, Something went wrong, try reloading."):null)},Ie=Object(m.a)({palette:{primary:{main:"#4970f8"},secondary:{main:"#000000"}}});var Ne=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.b,{injectFirst:!0},r.a.createElement(i.a,{theme:Ie},r.a.createElement(s.a,{basename:"/investorbook"},r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(u.a,{to:"/investors"})),r.a.createElement(u.b,{exact:!0,path:"/investors"},r.a.createElement(y,{showNav:!0},r.a.createElement(W,null))),r.a.createElement(u.b,{exact:!0,path:"/investors/:id"},r.a.createElement(y,null,r.a.createElement(fe,null))),r.a.createElement(u.b,{exact:!0,path:"/companies"},r.a.createElement(y,{showNav:!0},r.a.createElement(_e,null))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se=new k.ApolloClient({uri:"https://electric-kangaroo-87.hasura.app/v1/graphql",cache:new k.InMemoryCache});c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k.ApolloProvider,{client:Se},r.a.createElement(Ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[158,1,2]]]);
//# sourceMappingURL=main.e678a882.chunk.js.map