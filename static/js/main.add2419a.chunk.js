(this.webpackJsonpwebclient=this.webpackJsonpwebclient||[]).push([[0],{104:function(e,a,t){e.exports={headTitle:"styles_headTitle__2ZPYu",tabDivider:"styles_tabDivider__2PjMT"}},105:function(e,a,t){e.exports={investorAvatar:"styles_investorAvatar__2GZdz",investorName:"styles_investorName__3sL-F",investorLink:"styles_investorLink__1_fm0"}},116:function(e,a,t){e.exports={modalInput:"styles_modalInput__WTFER"}},139:function(e,a,t){e.exports={investorAvatar:"styles_investorAvatar__3N_Y1"}},140:function(e,a,t){e.exports={modal:"styles_modal__3ayrX"}},141:function(e,a,t){e.exports={companyLink:"styles_companyLink__25Brw"}},158:function(e,a,t){e.exports=t(181)},164:function(e,a,t){},165:function(e,a,t){},181:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(18),m=t.n(l),c=(t(163),t(164),t(142)),i=t(232),o=t(229),s=t(47),u=t(20),E=(t(165),t(230)),v=t(213),d=t(233),p=t(214),g=t(215),b=t(211),f=t(104),h=t.n(f),y=function(e){var a=e.showNav,t=e.children,n=Object(u.h)().pathname,l=Object(u.g)().push,m=n.startsWith("/investors")?"INVESTORS":"COMPANIES";return r.a.createElement(E.a,{p:8},r.a.createElement(b.a,null,r.a.createElement(v.a,{component:"h1",align:"left",gutterBottom:!0},r.a.createElement(v.a,{className:h.a.headTitle,variant:"h5",component:"span",color:"primary"},"INVESTOR"),r.a.createElement(v.a,{className:h.a.headTitle,variant:"h5",component:"span"},"BOOK")),r.a.createElement(E.a,{m:4}),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{value:m,onChange:function(e,a){l("INVESTORS"===a?"/investors":"/companies")}},r.a.createElement(p.a,{value:"INVESTORS",label:"Investors"}),r.a.createElement(p.a,{value:"COMPANIES",label:"Companies"})),r.a.createElement(g.a,{className:h.a.tabDivider})):null,r.a.createElement(E.a,{m:2}),t))},O=t(35),I=t(225),j=t(226),_=t(216),N=t(217),S=t(227),w=t(218),C=t(224),A=t(223),k=t(16),x=t(38);function T(){var e=Object(x.a)(["\n  query GetInvestors($limit: Int!, $offset: Int!) {\n    investor_aggregate {\n      aggregate {\n        count\n      }\n    }\n    investor(limit: $limit, offset: $offset) {\n      id\n      name\n      photo_thumbnail\n      investments {\n        company {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return T=function(){return e},e}var $=Object(k.gql)(T()),F=t(236),M=t(105),q=t.n(M),P=function(e){var a=e.investor,t=a.investments.map((function(e){return e.company.name})).join(", ");return r.a.createElement(_.a,null,r.a.createElement(N.a,null,r.a.createElement(s.b,{className:q.a.investorLink,to:"/investors/".concat(a.id)},r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center",wrap:"nowrap"},r.a.createElement(w.a,{item:!0},r.a.createElement(F.a,{className:q.a.investorAvatar,alt:a.name,src:a.photo_thumbnail})),r.a.createElement(w.a,{item:!0},r.a.createElement("strong",{className:q.a.investorName},a.name)),r.a.createElement(w.a,{item:!0},r.a.createElement(E.a,{ml:4}))))),r.a.createElement(N.a,null,t))},R=t(231),z=t(238),B=t(222),L=t(68),G=t.n(L),V=t(138),D=t.n(V),Q=function(e){var a=e.pageSize,t=e.setPageSize,n=e.page,l=e.setPage,m=e.total,c=n*a+1,i=c+a-1;return r.a.createElement(w.a,{container:!0,wrap:"nowrap",alignItems:"center"},r.a.createElement(w.a,{item:!0},"Rows per page:"),r.a.createElement(w.a,{item:!0},r.a.createElement(E.a,{mx:.5})),r.a.createElement(w.a,{item:!0},r.a.createElement(R.a,{value:a,onChange:function(e){return t(e.target.value)}},r.a.createElement(z.a,{value:5},"5"),r.a.createElement(z.a,{value:6},"6"),r.a.createElement(z.a,{value:7},"7"),r.a.createElement(z.a,{value:8},"8"),r.a.createElement(z.a,{value:9},"9"),r.a.createElement(z.a,{value:10},"10"))),r.a.createElement(w.a,{item:!0},r.a.createElement(E.a,{mx:2})),r.a.createElement(w.a,{item:!0},c," - ",i," of ",m),r.a.createElement(w.a,{item:!0}),r.a.createElement(w.a,{item:!0},r.a.createElement(E.a,{mx:2})),r.a.createElement(w.a,{item:!0},r.a.createElement(B.a,{disabled:0===n,onClick:function(){return l(n-1)}},r.a.createElement(G.a,null))),r.a.createElement(w.a,{item:!0},r.a.createElement(B.a,{disabled:i>=m,onClick:function(){return l(n+1)}},r.a.createElement(D.a,null))))},W=function(){var e,a=Object(n.useState)(5),t=Object(O.a)(a,2),l=t[0],m=t[1],c=Object(n.useState)(0),i=Object(O.a)(c,2),o=i[0],s=i[1],u=Object(k.useQuery)($,{variables:{limit:l,offset:o*l}}),d=u.loading,p=u.error,g=u.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(w.a,{item:!0},r.a.createElement(v.a,{align:"left",variant:"h3",component:"h2"},"Investors")),r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{disabled:!0,color:"primary",variant:"outlined"},"Add Investor"))),d?r.a.createElement(C.a,null):null,d||p||!(null===g||void 0===g||null===(e=g.investor)||void 0===e?void 0:e.length)?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,r.a.createElement(_.a,null,r.a.createElement(N.a,null,"NAME"),r.a.createElement(N.a,null,"INVESTMENTS"))),r.a.createElement(S.a,null,g.investor.map((function(e){return r.a.createElement(P,{key:e.id,investor:e})})))),r.a.createElement(E.a,{m:1}),r.a.createElement(w.a,{container:!0,justify:"flex-end"},r.a.createElement(w.a,{item:!0},r.a.createElement(Q,{pageSize:l,setPageSize:m,page:o,setPage:s,total:g.investor_aggregate.aggregate.count})))),p?r.a.createElement(v.a,{color:"error",variant:"h5"},"Ooops, Something went wrong, try reloading."):null)},J=t(56),U=t.n(J),Y=t(57),Z=t.n(Y),K=t(139),X=t.n(K);function H(){var e=Object(x.a)(["\n  query GetInvestorDetail($id: Int!) {\n    investor: investor_by_pk(id: $id) {\n      id\n      name\n      photo_large\n      investments {\n        id\n        amount\n        company {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return H=function(){return e},e}var ee=Object(k.gql)(H()),ae=t(234),te=t(221),ne=t(140),re=t.n(ne),le=function(e){var a=e.isOpen,t=e.onClose,n=e.children;return r.a.createElement(ae.a,{className:re.a.modal,open:a,onClose:t},r.a.createElement(te.a,null,r.a.createElement(E.a,{p:4},n)))},me=t(240),ce=t(228),ie=t(239);function oe(){var e=Object(x.a)(["\n  mutation AddInvestment($investment: investment_insert_input!) {\n    investment: insert_investment_one(object: $investment) {\n      id\n      amount\n      company {\n        id\n        name\n      }\n    }\n  }\n"]);return oe=function(){return e},e}function se(){var e=Object(x.a)(["\n  query GetAllCompanies {\n    company(limit: 100) {\n      id\n      name\n    }\n  }\n"]);return se=function(){return e},e}var ue=Object(k.gql)(se()),Ee=Object(k.gql)(oe()),ve=t(116),de=t.n(ve),pe=function(e){var a=e.isOpen,t=e.onClose,l=e.investor,m=Object(k.useQuery)(ue),c=m.error,i=m.data,o=m.loading,s=Object(k.useMutation)(Ee),u=Object(O.a)(s,2),d=u[0],p=u[1],g=p.loading,b=p.error,f=Object(k.useApolloClient)(),h=Object(n.useState)(""),y=Object(O.a)(h,2),I=y[0],j=y[1],_=Object(n.useState)(""),N=Object(O.a)(_,2),S=N[0],x=N[1],T=function(){x(""),j(""),f.resetStore(),t()};return r.a.createElement(le,{isOpen:a,onClose:t},o?r.a.createElement(C.a,null):null,o||c||b||!i.company?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{align:"left",variant:"h6",component:"h4"},"Add Investment"),r.a.createElement(v.a,{align:"left",variant:"body1"},"Please enter the details of the investment."),r.a.createElement(E.a,{m:2}),r.a.createElement(ce.a,{className:de.a.modalInput},r.a.createElement(ie.a,{id:"company-select"},"Select Company"),r.a.createElement(R.a,{value:I,onChange:function(e){return j(e.target.value)},labelId:"company-select"},i.company.map((function(e){return r.a.createElement(z.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement(E.a,{m:2}),r.a.createElement(me.a,{value:S,onChange:function(e){var a=Number(e.target.value);(!isNaN(a)&&a>0||""===e.target.value)&&x(e.target.value)},className:de.a.modalInput,label:"Investment Amount"}),r.a.createElement(E.a,{m:2}),r.a.createElement(w.a,{container:!0,spacing:2,justify:"flex-end"},r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{disabled:g,onClick:t,color:"primary"},"Cancel")),r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{disabled:g||!S||!I,variant:"contained",color:"primary",onClick:function(){var e={amount:S,company_id:I,investor_id:Number(l.id)};d({variables:{investment:e},update:T}).catch(console.log)}},g?"Sending...":"Add Investment")))),c||b?r.a.createElement(v.a,{variant:"h4",color:"error"},"Oops, Something went wrong, try reloading."):null)},ge=function(e){var a=e.investor,t=e.investments,l=Object(n.useState)(!1),m=Object(O.a)(l,2),c=m[0],i=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(w.a,{item:!0},r.a.createElement(v.a,{align:"left",variant:"body1",component:"h3"},"Investments")),r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{color:"primary",onClick:function(){return i(!0)}},"+ Add Investment"))),r.a.createElement(E.a,{m:2}),r.a.createElement(I.a,null,r.a.createElement(j.a,null,r.a.createElement(_.a,null,r.a.createElement(N.a,null,"NAME"),r.a.createElement(N.a,null,"AMOUNT"),r.a.createElement(N.a,{align:"right"},"ACTIONS"))),r.a.createElement(S.a,null,t.map((function(e){return r.a.createElement(_.a,{key:e.id},r.a.createElement(N.a,null,e.company.name),r.a.createElement(N.a,null,"$",Intl.NumberFormat().format(e.amount)),r.a.createElement(N.a,{align:"right"},r.a.createElement(B.a,{disabled:!0},r.a.createElement(U.a,null)),r.a.createElement(B.a,{disabled:!0},r.a.createElement(Z.a,null))))})))),r.a.createElement(pe,{investor:a,isOpen:c,onClose:function(){return i(!1)}}))},be=function(){var e,a,t=Object(u.g)().push,n=Object(u.i)().id,l=Object(k.useQuery)(ee,{variables:{id:n}}),m=l.loading,c=l.error,i=l.data,o=null===i||void 0===i||null===(e=i.investor)||void 0===e||null===(a=e.investments)||void 0===a?void 0:a.reduce((function(e,a){return e+a.amount}),0);return r.a.createElement(w.a,{alignItems:"center",container:!0,spacing:2},r.a.createElement(w.a,{md:1,item:!0},r.a.createElement(B.a,{onClick:function(){return t("/investors")}},r.a.createElement(G.a,null))),m?r.a.createElement(w.a,{md:1,item:!0},r.a.createElement(C.a,null)):null,m||c||!(null===i||void 0===i?void 0:i.investor)?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{md:1,item:!0},r.a.createElement(F.a,{className:X.a.investorAvatar,src:i.investor.photo_large})),r.a.createElement(w.a,{md:10,item:!0},r.a.createElement(w.a,{container:!0,justify:"space-between"},r.a.createElement(w.a,{item:!0},r.a.createElement(v.a,{align:"left",variant:"h5",component:"h2",gutterBottom:!0},i.investor.name),r.a.createElement(v.a,{variant:"body1"},"Total Amount Invested: $",Intl.NumberFormat().format(o))),r.a.createElement(w.a,{item:!0},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{disabled:!0,startIcon:r.a.createElement(U.a,null)},"Edit Name")),r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{disabled:!0,startIcon:r.a.createElement(Z.a,null)},"Remove Investor")))))),r.a.createElement(w.a,{md:2,item:!0}),r.a.createElement(w.a,{item:!0,md:10},r.a.createElement(E.a,{m:4}),r.a.createElement(ge,{investor:i.investor,investments:i.investor.investments}))),c?r.a.createElement(v.a,{variant:"h3",color:"error"},"Oops! Something went wrong, try reloading."):null)};function fe(){var e=Object(x.a)(["\n  query GetCompanies($limit: Int!, $offset: Int!) {\n    company_aggregate {\n      aggregate {\n        count\n      }\n    }\n    company(limit: $limit, offset: $offset) {\n      id\n      name\n      investments {\n        investor {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return fe=function(){return e},e}var he=Object(k.gql)(fe()),ye=t(141),Oe=t.n(ye),Ie=function(e){var a=e.company,t=a.investments.map((function(e){return e.investor.name})).join(", ");return r.a.createElement(_.a,null,r.a.createElement(N.a,null,r.a.createElement(s.b,{className:Oe.a.companyLink,to:"/companies/".concat(a.id)},r.a.createElement("strong",null,a.name))),r.a.createElement(N.a,null,t))},je=function(){var e,a=Object(n.useState)(5),t=Object(O.a)(a,2),l=t[0],m=t[1],c=Object(n.useState)(0),i=Object(O.a)(c,2),o=i[0],s=i[1],u=Object(k.useQuery)(he,{variables:{limit:l,offset:l*o}}),d=u.loading,p=u.error,g=u.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(w.a,{item:!0},r.a.createElement(v.a,{align:"left",variant:"h3",component:"h2"},"Companies")),r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{disabled:!0,color:"primary",variant:"outlined"},"Add Company"))),d?r.a.createElement(C.a,null):null,d||p||!(null===g||void 0===g||null===(e=g.company)||void 0===e?void 0:e.length)?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,r.a.createElement(_.a,null,r.a.createElement(N.a,null,"NAME"),r.a.createElement(N.a,null,"INVESTORS"))),r.a.createElement(S.a,null,g.company.map((function(e){return r.a.createElement(Ie,{company:e})})))),r.a.createElement(E.a,{m:1}),r.a.createElement(w.a,{container:!0,justify:"flex-end"},r.a.createElement(w.a,{item:!0},r.a.createElement(Q,{pageSize:l,setPageSize:m,page:o,setPage:s,total:g.company_aggregate.aggregate.count})))),p?r.a.createElement(v.a,{color:"error",variant:"h5"},"Ooops, Something went wrong, try reloading."):null)};function _e(){var e=Object(x.a)(["\n  query GetInvestorDetail($id: Int!) {\n    company: company_by_pk(id: $id) {\n      id\n      name\n      investments {\n        id\n        amount\n        investor {\n          id\n          name\n        }\n      }\n    }\n  }\n"]);return _e=function(){return e},e}var Ne=Object(k.gql)(_e()),Se=function(e){var a=e.investments;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(w.a,{item:!0},r.a.createElement(v.a,{align:"left",variant:"body1",component:"h3"},"Investors")),r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{color:"primary",disabled:!0},"+ Add Investors"))),r.a.createElement(E.a,{m:2}),r.a.createElement(I.a,null,r.a.createElement(j.a,null,r.a.createElement(_.a,null,r.a.createElement(N.a,null,"NAME"),r.a.createElement(N.a,null,"AMOUNT"),r.a.createElement(N.a,{align:"right"},"ACTIONS"))),r.a.createElement(S.a,null,a.map((function(e){return r.a.createElement(_.a,{key:e.id},r.a.createElement(N.a,null,e.investor.name),r.a.createElement(N.a,null,"$",Intl.NumberFormat().format(e.amount)),r.a.createElement(N.a,{align:"right"},r.a.createElement(B.a,{disabled:!0},r.a.createElement(U.a,null)),r.a.createElement(B.a,{disabled:!0},r.a.createElement(Z.a,null))))})))))},we=function(){var e=Object(u.g)().push,a=Object(u.i)().id,t=Object(k.useQuery)(Ne,{variables:{id:a}}),n=t.loading,l=t.error,m=t.data;return r.a.createElement(w.a,{alignItems:"center",container:!0,spacing:2},r.a.createElement(w.a,{md:1,item:!0},r.a.createElement(B.a,{onClick:function(){return e("/companies")}},r.a.createElement(G.a,null))),n?r.a.createElement(w.a,{md:1,item:!0},r.a.createElement(C.a,null)):null,n||l||!(null===m||void 0===m?void 0:m.company)?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{md:11,item:!0},r.a.createElement(w.a,{container:!0,justify:"space-between"},r.a.createElement(w.a,{item:!0},r.a.createElement(v.a,{align:"left",variant:"h5",component:"h2",gutterBottom:!0},m.company.name)),r.a.createElement(w.a,{item:!0},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{disabled:!0,startIcon:r.a.createElement(U.a,null)},"Edit Name")),r.a.createElement(w.a,{item:!0},r.a.createElement(A.a,{disabled:!0,startIcon:r.a.createElement(Z.a,null)},"Remove Company")))))),r.a.createElement(w.a,{md:1,item:!0}),r.a.createElement(w.a,{item:!0,md:11},r.a.createElement(E.a,{m:4}),r.a.createElement(Se,{investments:m.company.investments}))),l?r.a.createElement(v.a,{variant:"h3",color:"error"},"Oops! Something went wrong, try reloading."):null)},Ce=Object(c.a)({palette:{primary:{main:"#4970f8"},secondary:{main:"#000000"}}});var Ae=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.b,{injectFirst:!0},r.a.createElement(o.a,{theme:Ce},r.a.createElement(s.a,{basename:"/investorbook"},r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(u.a,{to:"/investors"})),r.a.createElement(u.b,{exact:!0,path:"/investors"},r.a.createElement(y,{showNav:!0},r.a.createElement(W,null))),r.a.createElement(u.b,{exact:!0,path:"/investors/:id"},r.a.createElement(y,null,r.a.createElement(be,null))),r.a.createElement(u.b,{exact:!0,path:"/companies"},r.a.createElement(y,{showNav:!0},r.a.createElement(je,null))),r.a.createElement(u.b,{exact:!0,path:"/companies/:id"},r.a.createElement(y,{showNav:!0},r.a.createElement(we,null))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ke=new k.ApolloClient({uri:"https://electric-kangaroo-87.hasura.app/v1/graphql",cache:new k.InMemoryCache});m.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k.ApolloProvider,{client:ke},r.a.createElement(Ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[158,1,2]]]);
//# sourceMappingURL=main.add2419a.chunk.js.map